<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Gravity Game</title>
        <meta name="description" content="N-Body Gravity Simulation Educational Game">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <link rel="stylesheet" href="./gravitygame_style.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <style>
            body{
                background-color: #010a11;
            }
        </style>
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-153588627-1"></script>
          <script>
              window.dataLayer = window.dataLayer || [];
              function gtag(){dataLayer.push(arguments);}
              gtag('js', new Date());
      
              gtag('config', 'UA-153588627-1');
          </script>
    </head>
    <body>
        <nav class="navbar navbar-static-top mb-0">
            <div class="navbar-header">
                <a class="navbar-brand" href="/">David's Website</a>
            </div>
            <ul class="nav navbar-nav">
                <li class="nav-item dropdown" id="games-dropdown">
                    <a class="btn btn-secondary dropdown-toggle" data-toggle="dropdown" href="#">
                        Web Games
                        <span class="caret"></span>
                    </a>
                    <ul class="dropdown-menu">
                        <li><a href="/gravitygame/gravitygame.html">Gravity Game</a></li>
                    </ul>
                </li>
    
                <li class="nav-item">
                    <a class="btn btn-secondary nav-link" href="#">Projects</a>
                </li>
    
                <li class="nav-item">
                    <a class="btn btn-secondary nav-link" href="#">Bio</a>
                </li>
            </ul>
        </nav>

        <a href="https://github.com/lishangqiu/GravityGame"><h1 style="text-align: center; color: rgb(205, 215, 248)">Gravity Game<span style="font-size: large;">ðŸ”—</span></h1></a>
        <p style="text-align: center; color: rgb(216, 216, 216); font-size: 15px;">
            <b>Controls: </b>Left button drag - pan around;  Scroll - zoom in/out;  Add/edit objects on side panel(click on the panel thing for each object to edit); 
            <br>
            <b>Tip: </b>Use "Visible" button on the top of the side panel to make object disappear/appear out of thin air.
            <br>
            <b>I highly recommend going full screen. </b>
            Also, here's how the game do the maths: 
            <a href="https://github.com/lishangqiu/lishangqiu.github.io/blob/master/gravitygame/gravitygame.md">link</a>
        </p>
        <div  id="game">

        </div>
        
        <script type="text/javascript" src="js/gravity_game/phaser.js"></script>
        <script type="text/javascript" src="js/gravity_game/victor.js"></script>
        <script src='js/gravity_game/main.js' type='module'></script>

        <template id="gravity-body">
            <div>
                <a href="#" id="button" style="text-decoration: none !important; display: inline-block;">
                    <div class="panel panel-default" style="width: 420px; height: 70px; margin-bottom: 0px; background-color: #1a1a1a;border-color: black;" id="panel-id">
                        <div class="panel-body" style="color: #ffffff;" id="panel-id-body">
                            <img src="watcha looking at.jpg" alt="image" id="icon-pic" style="display:inline; width: 42px;height: 42px;">
                            <p style="display:inline; font-family: 'Courier New'; font-size: 23px; width: fit-content; margin-left: 23px;"><b id="name"></b></p>
                        </div>
                    </div>
                </a>
                <a href="#" style="position: absolute; width: 40px; height: 40px; left: 335px; display: inline-block; margin-top: 15px;" id="delete_button">
                    <img src="assets/GravityGame/delete_icon.png" alt="image" style="width: 35px; height: 35px;" id="body-icon">
                </a>
            </div>
        </template>

        <div id="sidepanel">
            <div class="row" id="side-panel-id" style="display: none; background-color: #292828;border-color: black; height: 1080px;">
                <div class="panel panel-default" style="width: 420px; height: 60px; margin-bottom: 0px; background-color: #2c2c2c;border-color: black; border-radius: 0;" id="panel-id">
                    <div class="panel-body" style="color: #ffffff;" id="panel-id-body">
                        <p style="display:inline; font-family: 'Courier New'; font-size: 20px; width: fit-content; margin-left: 10px;">
                            <b>Celestial Objects</b>
                        </p>
                        <a style="margin-left: 115px;" href="#" id="plus_button1">
                            <img src="assets/GravityGame/plus_button2.png" alt="image" id="icon-pic" style="display:inline; width: 25px;height: 25px;">
                        </a>
                    </div>
                </div>
            </div>

            <div class="row" id="side-panel-attributes">
                <div class="panel panel-default" style="width: 420px; height: 76px; margin-bottom: 0px; background-color: #3a3838;border-color: black; border-radius: 0;" id="panel-id">
                    <div class="panel-body" style="color: #ffffff;" id="panel-id-body">
                        <img src="assets/GravityGame/earth.png" alt="image" id="icon-pic-attributes" style="width: 40px; height: 43px;" id="body-icon">
                        <input id="body-name-attributes" name="speed" step="any" style="margin-left: 6px; height: 32px; font-size: 17px; font-weight: bold;">
                        <a href="#" style="position: absolute; width: 40px; height: 40px; left: 320px">
                            <img src="assets/GravityGame/home_button.png" alt="image" id="home-attributes" style="width: 40px; height: 40px; filter: invert(100%);" id="body-icon">
                        </a>
                    </div>
                </div>
                <div class="panel panel-default" style="width: 420px; margin-bottom: 0px; background-color: #2c2c2c;border-color: black; height: 1080px;" onKeyPress="return myFunction(event)">
                    <div class="panel-body" style="color: #ffffff;" id="panel-id-body">
                        <form action="#" style="margin-top: 10px;" id="attributes_form" onsubmit="return false;">
                            <button id="pp-button" style="display: none;">a</button>
                            <button id="follow-button">Follow</button>
                            <button id="appear-button">Appear</button>
                            <br><hr>
                            <label for="preset">Preset: </label>
                            <select id="preset-list-attributes" name="preset" style="height: 30px; width: 100px; background-color: #272626; font-size: 15px; border-radius: 4px; border-color: black; border-width: 1.5px;">
                                <option value="Earth">Earth</option>
                                <option value="Sun">Sun</option>
                                <option value="Venus">Venus</option>
                                <option value="Mercury">Mercury</option>
                                <option value="Mars">Mars</option>
                                <option value="Jupiter">Jupiter</option>
                                <option value="Custom">Custom</option>
                            </select><br><hr>
                            <label for="direction">Direction: </label>
                            <input type="number" id="direction-attributes" name="direction" step="any"><span style="margin-left:10px;">Âº</span><br><br>

                            <label for="speed">Speed: </label>
                            <input type="number" id="speed-attributes" name="speed" step="any"><span style="margin-left:10px;">km/s</span><br>
                            <hr> 
                            <a href="#" style="position: absolute; width: 40px; height: 40px; left: 320px" id="position-button" data-toggle="tooltip" data-placement="right" title="Move Body Directly">
                                <img src="assets/GravityGame/position2.png" alt="image" id="change" style="width: 26px; height: 26px; filter: invert(100%);">
                            </a>
                            <label for="posX">Position X: </label>
                            <input type="number" id="posX-attributes" name="posX" step="any"><span style="margin-left:10px;">km</span><br><br>

                            <label for="posY">Position Y: </label>
                            <input type="number" id="posY-attributes" name="posY" step="any"><span style="margin-left:10px;">km</span><br>
                            <hr>

                            <label for="mass">Mass: </label>
                            <input type="number" id="mass-attributes" name="mass" step="any"><span style="margin-left:10px;">kg</span><br><br>

                            <label for="radius">Radius: </label>
                            <input type="number" id="radius-attributes" name="radius" step="any"><span style="margin-left:10px;">km</span><br><br>

                            <label for="icon">Icon Picture: </label>
                            <select id="icon-list-attributes" name="icon" style="height: 30px; width: 100px; background-color: #272626; font-size: 15px; border-radius: 4px; border-color: black; border-width: 1.5px;">
                                <option value="Earth">Earth</option>
                                <option value="Sun">Sun</option>
                                <option value="Venus">Venus</option>
                                <option value="Mercury">Mercury</option>
                                <option value="Mars">Mars</option>
                                <option value="Jupiter">Jupiter</option>
                            </select>
                            <hr>
                        </form>

                        <script>
                            function myFunction(e) {
                               if((e && e.keyCode == 13) || e == 0) {
                                    if (window.getComputedStyle(document.getElementById("side-panel-attributes")).display === "none"){

                                    }
                                    else{
                                        var elements = document.forms.attributes_form.getElementsByTagName("input");
                                        for (let i=0;i<elements.length;i++){
                                            elements[i].dispatchEvent(new Event('change'));
                                        }
                                    }
                               }
                            }
                        </script>
                    </div>
                </div>
            </div>

        </div>
    </body>
</html>